---
import Page from '../../layouts/Page.astro';
import { AnimatedSection } from '../../components/ui/AnimatedSection';
import { AnimatedHeadline } from '../../components/ui/AnimatedHeadline';
import { TypingHeadline } from '../../components/ui/TypingHeadline';
import { StaggerGrid } from '../../components/ui/StaggerGrid';
import { ParallaxImage } from '../../components/ui/ParallaxImage';
import { WireframePlaceholder } from '../../components/ui/WireframePlaceholder';
import { NumberTicker } from '../../components/ui/NumberTicker';
import { HorizontalScroll, HorizontalSlide } from '../../components/ui/HorizontalScroll';
import { HeroWireframe } from '../../components/ui/HeroWireframe';
import { PartnerLogos } from '../../components/ui/PartnerLogos';
import { TestimonialMarquee, sampleTestimonials } from '../../components/ui/TestimonialMarquee';

const lang = 'en';

// Platform capabilities
const capabilities = [
  {
    label: 'Infrastructure',
    title: 'Physical Layer',
    description: 'Solar-powered edge nodes designed for remote, off-grid deployment.',
    href: '/en/platform/infrastructure',
  },
  {
    label: 'Software',
    title: 'Digital Systems',
    description: 'Offline-first collaboration, broadcasting, and visualization tools.',
    href: '/en/platform/digital-systems',
  },
  {
    label: 'Intelligence',
    title: 'Edge AI',
    description: 'On-device machine learning that processes data locally.',
    href: '/en/platform/edge-ai',
  }
];

// Products for horizontal scroll
const products = [
  {
    name: 'Leapspace',
    tagline: 'Offline-First Collaboration',
    description: 'A complete workspace that syncs when connectivity is available. Documents, messaging, and video calls that work anywhere.',
    wireframe: 'dashboard' as const,
  },
  {
    name: 'Digital Twin',
    tagline: 'Infrastructure Visualization',
    description: 'Monitor and manage your entire deployment from a single dashboard. Real-time status, predictive maintenance, and remote diagnostics.',
    wireframe: 'dashboard' as const,
  },
  {
    name: 'Leapcast',
    tagline: 'One-to-Many Broadcasting',
    description: 'Stream content to thousands without bandwidth constraints. Perfect for education, public health, and government communications.',
    wireframe: 'mobile' as const,
  },
];

// Solutions
const solutions = [
  { title: 'Governments', href: '/en/solutions/industry/governments' },
  { title: 'Education', href: '/en/solutions/industry/education' },
  { title: 'NGOs', href: '/en/solutions/industry/ngos' },
  { title: 'Enterprise', href: '/en/solutions/industry/enterprise' },
];

// Case studies for horizontal scroll
const caseStudies = [
  {
    title: 'Rwanda Digital Schools Initiative',
    metric: '2,500+',
    metricLabel: 'Schools connected',
    description: 'Partnered with the Ministry of Education to bring digital learning to rural communities.',
    tag: 'Education'
  },
  {
    title: 'Pacific Island Emergency Network',
    metric: '48 hrs',
    metricLabel: 'Deployment time',
    description: 'Rapid deployment communication infrastructure for disaster response across 12 island nations.',
    tag: 'Humanitarian'
  },
  {
    title: 'Ghana Agricultural Extension',
    metric: '340%',
    metricLabel: 'Yield increase',
    description: 'AI-powered farming advice delivered to 50,000 smallholder farmers via local edge nodes.',
    tag: 'Enterprise'
  },
];
---

<Page title="Home" lang={lang}>
  <!-- Hero -->
  <section class="min-h-screen bg-cream relative overflow-hidden">
    <!-- Subtle grid background -->
    <div class="absolute inset-0 grid-lines opacity-40"></div>

    <div class="relative z-10 pt-32 md:pt-40 pb-16">
      <div class="max-w-7xl mx-auto px-6">
        <!-- Hero content -->
        <div class="max-w-4xl mx-auto text-center">
          <!-- Eyebrow -->
          <AnimatedSection client:visible delay={0} direction="up">
            <p class="text-caption text-muted mb-6">Sovereign Digital Infrastructure</p>
          </AnimatedSection>
          
          <!-- Main headline with typing effect -->
          <TypingHeadline 
            client:visible 
            line1="Digital infrastructure"
            line2="for the next billion"
            typingDelay={50}
            withSound={true}
          />
          
          <!-- Subheadline -->
          <AnimatedSection client:visible delay={0.3} direction="up">
            <p class="text-body-lg text-muted max-w-2xl mx-auto mb-10">
              Sovereign edge computing that works offline. Solar-powered nodes, 
              local AI processing, and collaboration tools—connecting communities 
              where traditional infrastructure can't reach.
            </p>
          </AnimatedSection>
          
          <!-- CTAs -->
          <AnimatedSection client:visible delay={0.4} direction="up">
            <div class="flex flex-wrap justify-center gap-4 mb-8">
              <a href="/en/platform" class="btn btn-primary">
                Explore Platform
                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </a>
              <a href="/en/resources/docs" class="btn btn-secondary">
                Documentation
              </a>
            </div>
          </AnimatedSection>

          <!-- Quick stats inline -->
          <AnimatedSection client:visible delay={0.5} direction="up">
            <div class="flex flex-wrap justify-center items-center gap-x-8 gap-y-3 text-sm">
              <div class="flex items-center gap-2">
                <span class="font-medium text-ink">47</span>
                <span class="text-muted">countries</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="font-medium text-ink">12M+</span>
                <span class="text-muted">people connected</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="font-medium text-ink">&lt;2W</span>
                <span class="text-muted">power per node</span>
              </div>
            </div>
          </AnimatedSection>
        </div>

        <!-- Hero wireframe with scroll animation -->
        <div class="mt-16 md:mt-24 lg:mt-28">
          <HeroWireframe client:visible className="max-w-6xl mx-auto" />
        </div>

        <!-- Partner logos -->
        <div class="mt-20 md:mt-28">
          <PartnerLogos 
            client:visible 
            title="Built on trusted technology" 
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Mission -->
  <section class="py-32 bg-white">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <AnimatedSection client:visible direction="up">
          <p class="text-caption text-muted mb-6">Our Mission</p>
          <h2 class="text-display-md mb-6">
            Bridging the digital divide isn't charity.
            <span class="display-serif text-gradient"> It's infrastructure.</span>
          </h2>
          <p class="text-body-lg text-muted mb-6">
            3.7 billion people lack reliable internet access. Traditional approaches 
            fail because they assume connectivity.
          </p>
          <p class="text-body text-muted mb-8">
            We built a complete technology stack that works offline-first, 
            solar-powered, and locally owned. Geography should not determine destiny.
          </p>
          <a href="/en/company/mission" class="link-arrow text-ink font-medium">
            Read our manifesto
          </a>
        </AnimatedSection>
        
        <AnimatedSection client:visible direction="left" delay={0.2}>
          <ParallaxImage client:visible speed={-0.08} className="w-full">
            <WireframePlaceholder 
              variant="photo" 
              aspect="4:3" 
              label="Community deployment"
              className="border border-border"
            />
          </ParallaxImage>
        </AnimatedSection>
      </div>
    </div>
  </section>

  <!-- Platform -->
  <section class="py-32 bg-charcoal text-white">
    <div class="max-w-7xl mx-auto px-6">
      <AnimatedSection client:visible direction="up">
        <p class="text-caption text-primary-light mb-6">Platform</p>
        <h2 class="text-display-lg text-white mb-4">The Complete Stack</h2>
        <p class="text-body-lg text-white/60 max-w-2xl mb-16">
          End-to-end infrastructure for digital sovereignty. 
          From hardware to software to AI.
        </p>
      </AnimatedSection>
      
      <StaggerGrid client:visible className="grid md:grid-cols-3 gap-px bg-white/5" stagger={0.15}>
        {capabilities.map((cap) => (
          <a href={cap.href} class="group bg-charcoal p-8 hover:bg-charcoal-light transition-colors" style="transition-duration: var(--duration-normal);">
            <p class="text-caption text-white/70 mb-4">{cap.label}</p>
            <h3 class="text-xl font-medium text-white mb-3">{cap.title}</h3>
            <p class="text-white/60 mb-6">{cap.description}</p>
            <span class="inline-flex items-center gap-2 text-primary-light text-sm font-medium group-hover:gap-3 transition-all" style="transition-duration: var(--duration-normal);">
              Learn more
              <span>→</span>
            </span>
          </a>
        ))}
      </StaggerGrid>
    </div>
  </section>

  <!-- Products - Horizontal Scroll -->
  <section class="bg-cream">
    <div class="py-16 max-w-7xl mx-auto px-6">
      <AnimatedSection client:visible direction="up">
        <p class="text-caption text-muted mb-6">Products</p>
        <h2 class="text-display-lg mb-4">Software That Works Offline</h2>
        <p class="text-body-lg text-muted max-w-2xl">
          Three integrated products designed from the ground up for 
          low-connectivity environments.
        </p>
      </AnimatedSection>
    </div>
    
    <HorizontalScroll client:visible className="gap-8" speed={1.2}>
      {products.map((product, i) => (
        <HorizontalSlide width="min(600px, 85vw)" className="py-8">
          <div class="h-full bg-white p-8 border border-border">
            <p class="text-caption text-muted mb-2">{product.tagline}</p>
            <h3 class="text-display-md mb-4">{product.name}</h3>
            <p class="text-muted mb-8">{product.description}</p>
            <WireframePlaceholder 
              variant={product.wireframe} 
              aspect="16:9" 
              label={`${product.name} Interface`}
            />
          </div>
        </HorizontalSlide>
      ))}
      <HorizontalSlide width="min(400px, 70vw)" className="py-8 flex items-center">
        <div class="text-center px-8">
          <p class="text-muted mb-4">See all products</p>
          <a href="/en/platform/digital-systems" class="btn btn-secondary">
            Explore Digital Systems
          </a>
        </div>
      </HorizontalSlide>
    </HorizontalScroll>
  </section>

  <!-- Solutions -->
  <section class="py-32 bg-white">
    <div class="max-w-7xl mx-auto px-6">
      <div class="flex flex-col md:flex-row md:items-end justify-between gap-8 mb-12">
        <AnimatedSection client:visible direction="up">
          <p class="text-caption text-muted mb-6">Solutions</p>
          <h2 class="text-display-md">Built for Impact</h2>
        </AnimatedSection>
        <AnimatedSection client:visible direction="up" delay={0.1}>
          <a href="/en/solutions" class="link-arrow text-ink font-medium">
            All solutions
          </a>
        </AnimatedSection>
      </div>
      
      <StaggerGrid client:visible className="grid md:grid-cols-4 gap-px bg-border" stagger={0.1}>
        {solutions.map((solution) => (
          <a href={solution.href} class="group bg-cream p-8 hover:bg-white transition-colors" style="transition-duration: var(--duration-normal);">
            <h3 class="text-xl font-medium text-ink mb-4 group-hover:text-primary transition-colors" style="transition-duration: var(--duration-normal);">
              {solution.title}
            </h3>
            <span class="inline-flex items-center gap-2 text-sm text-muted group-hover:text-ink group-hover:gap-3 transition-all" style="transition-duration: var(--duration-normal);">
              Explore
              <span>→</span>
            </span>
          </a>
        ))}
      </StaggerGrid>
    </div>
  </section>

  <!-- Case Studies - Horizontal Scroll -->
  <section class="bg-paper">
    <div class="py-16 max-w-7xl mx-auto px-6">
      <AnimatedSection client:visible direction="up">
        <p class="text-caption text-muted mb-6">Case Studies</p>
        <h2 class="text-display-lg mb-4">Real Impact, Real Results</h2>
      </AnimatedSection>
    </div>
    
    <HorizontalScroll client:visible className="gap-6" speed={1}>
      {caseStudies.map((study) => (
        <HorizontalSlide width="min(500px, 85vw)" className="py-4">
          <div class="h-full bg-white p-6 border border-border">
            <WireframePlaceholder 
              variant="photo" 
              aspect="16:9" 
              label={study.tag}
              className="mb-6"
            />
            <p class="text-caption text-muted mb-2">{study.tag}</p>
            <h3 class="text-xl font-medium mb-3">{study.title}</h3>
            <p class="text-muted text-sm mb-6">{study.description}</p>
            <div class="pt-4 border-t border-border">
              <p class="text-2xl font-medium">{study.metric}</p>
              <p class="text-xs text-muted">{study.metricLabel}</p>
            </div>
          </div>
        </HorizontalSlide>
      ))}
      <HorizontalSlide width="min(300px, 60vw)" className="py-4 flex items-center">
        <div class="text-center px-6">
          <a href="/en/impact/case-studies" class="link-arrow text-ink font-medium">
            View all case studies
          </a>
        </div>
      </HorizontalSlide>
    </HorizontalScroll>
  </section>

  <!-- Impact -->
  <section class="py-32 bg-charcoal text-white">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <AnimatedSection client:visible direction="up">
          <p class="text-caption text-primary-light mb-6">Global Presence</p>
          <h2 class="text-display-md text-white mb-6">
            See where we're
            <span class="display-serif"> making impact</span>
          </h2>
          <p class="text-body-lg text-white/60 mb-8">
            Real-time data from edge nodes across 47 countries. 
            Track connectivity and community impact.
          </p>
          
          <a href="/en/impact/network-map" class="btn bg-white text-charcoal hover:bg-white/90">
            View Live Map
          </a>
        </AnimatedSection>
        
        <!-- Map placeholder -->
        <AnimatedSection client:visible direction="left" delay={0.2}>
          <ParallaxImage client:visible speed={0.1} className="w-full">
            <WireframePlaceholder 
              variant="map" 
              aspect="1:1" 
              label="Interactive Globe"
              dark={true}
              className="border border-white/10"
            />
          </ParallaxImage>
        </AnimatedSection>
      </div>
      
      <!-- Metrics strip -->
      <div class="mt-24 pt-8 border-t border-white/10">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
          <div>
            <p class="text-3xl font-medium text-white mb-1">
              <NumberTicker client:visible value={12000000} format="compact" />+
            </p>
            <p class="text-sm text-white/70">people connected</p>
          </div>
          <div>
            <p class="text-3xl font-medium text-white mb-1">
              <NumberTicker client:visible value={47} />
            </p>
            <p class="text-sm text-white/70">countries</p>
          </div>
          <div>
            <p class="text-3xl font-medium text-white mb-1">
              <NumberTicker client:visible value={2400} />+
            </p>
            <p class="text-sm text-white/70">edge nodes</p>
          </div>
          <div>
            <p class="text-3xl font-medium text-white mb-1">
              &lt; <NumberTicker client:visible value={2} />W
            </p>
            <p class="text-sm text-white/70">avg power draw</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="py-24 bg-paper overflow-hidden">
    <div class="max-w-7xl mx-auto px-6 mb-12">
      <AnimatedSection client:visible direction="up">
        <p class="text-caption text-muted mb-6">What Partners Say</p>
        <h2 class="text-display-md mb-4">Trusted by governments and NGOs worldwide</h2>
      </AnimatedSection>
    </div>
    
    <AnimatedSection client:visible direction="up" delay={0.2}>
      <TestimonialMarquee 
        client:visible 
        items={sampleTestimonials} 
        speed="slow"
        pauseOnHover={true}
      />
    </AnimatedSection>
  </section>

  <!-- CTA -->
  <section class="py-32 bg-cream">
    <div class="max-w-3xl mx-auto px-6 text-center">
      <AnimatedSection client:visible direction="up">
        <h2 class="text-display-md mb-6">
          Ready to bridge the divide?
        </h2>
        <p class="text-body-lg text-muted mb-10">
          Whether you're a government, NGO, or enterprise, we can help you 
          reach communities that traditional infrastructure can't.
        </p>
        
        <div class="flex flex-wrap items-center justify-center gap-4 mb-8">
          <a href="/en/resources/docs" class="btn btn-primary">
            Documentation
          </a>
          <a href="/en/company/careers" class="btn btn-secondary">
            Join Us
          </a>
        </div>
        
        <p class="text-sm text-muted">
          Or email <a href="mailto:hello@trueleapinc.com" class="text-primary hover:underline">hello@trueleapinc.com</a>
        </p>
      </AnimatedSection>
    </div>
  </section>
</Page>
